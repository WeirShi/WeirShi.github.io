(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{386:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"pm2常用命令集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pm2常用命令集合"}},[t._v("#")]),t._v(" pm2常用命令集合")]),t._v(" "),a("p",[t._v("pm2 是一个带有负载均衡功能的Node应用的进程管理器.当你要把你的独立代码利用全部的服务器上的所有CPU,并保证进程永远都活着,0秒的重载")]),t._v(" "),a("h2",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[t._v("#")]),t._v(" 常用命令")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pm2 start app.js                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动app.js应用程序")]),t._v("\npm2 start app.js -i "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cluster mode 模式启动4个app.js的应用实例     # 4个应用程序会自动进行负载均衡")]),t._v("\npm2 start app.js --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api"')]),t._v("        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# 启动应用程序并命名为 "api"')]),t._v("\npm2 start app.js --watch             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当文件变化时自动重启应用")]),t._v("\npm2 start script.sh                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动 bash 脚本")]),t._v("\npm2 list                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列表 PM2 启动的所有的应用程序")]),t._v("\npm2 monit                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示每个应用程序的CPU和内存占用情况")]),t._v("\npm2 show "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("app-name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示应用程序的所有信息")]),t._v("\npm2 logs                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示所有应用程序的日志")]),t._v("\npm2 logs "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("app-name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示指定应用程序的日志")]),t._v("\npm2 flush                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清理日志")]),t._v("\npm2 stop all                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止所有的应用程序")]),t._v("\npm2 stop "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止 id为 0的指定应用程序")]),t._v("\npm2 restart all                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启所有应用")]),t._v("\npm2 reload all                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重启 cluster mode下的所有应用")]),t._v("\npm2 gracefulReload all               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Graceful reload all apps in cluster mode")]),t._v("\npm2 delete all                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关闭并删除所有应用")]),t._v("\npm2 delete "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("app-id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除指定应用 id 0")]),t._v("\npm2 scale api "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 把名字叫api的应用扩展到10个实例")]),t._v("\npm2 reset "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("app-name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重置重启数量")]),t._v("\npm2 startup                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建开机自启动命令")]),t._v("\npm2 save                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保存当前应用列表")]),t._v("\npm2 resurrect                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 重新加载保存的应用列表")]),t._v("\npm2 update                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保存进程，移除pm2，重启进程")]),t._v("\npm2 generate                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成一个简单的JSON配置文件")]),t._v("\npm2 deploy app.json prod setup       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署‘prod’远程服务设置")]),t._v("\npm2 deploy app.json prod             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新‘prod’远程服务设置")]),t._v("\npm2 deploy app.json prod revert "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 回滚‘prod’远程服务设置")]),t._v("\npm2 module:generate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成命名的模块")]),t._v("\npm2 "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pm2-logrotate            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装模块依赖")]),t._v("\npm2 uninstall pm2-logrotate          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 卸载模块依赖")]),t._v("\npm2 publish                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 发布")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);